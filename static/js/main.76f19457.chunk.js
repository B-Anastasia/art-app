(this["webpackJsonpart-app"]=this["webpackJsonpart-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),i=a(8),o=a(9),s=a(11),u=a(10),m=a(24),d=function(){var e=Object(n.useState)(r.a.createRef()),t=Object(m.a)(e,1)[0];function a(){t.current.classList.toggle("hide-menu")}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(g,null),r.a.createElement(h,{onActive:a})),r.a.createElement("div",{className:"header__menu hide-menu",ref:t},r.a.createElement(f,{onActive:a})))},p=a(3),f=function(e){var t=e.onActive,a=["Main","Drawings","Paintings","Photographs","People"].map((function(e,a){if("Main"===e)return r.a.createElement("li",{className:"header__menu--item",key:a},r.a.createElement(p.b,{to:"/",className:"header__menu--link un",onClick:function(){return t()}},e));var n="/"+e.toLowerCase().trim()+"/";return r.a.createElement("li",{className:"header__menu--item",key:a},r.a.createElement(p.b,{to:n,className:"header__menu--link un",onClick:function(){return t()}},e))}));return r.a.createElement("ul",{className:"header__menu--list"},a)},h=function(e){var t=e.onActive;return r.a.createElement("div",{className:"toggle-menu__button",onClick:function(){return t()}},r.a.createElement("div",{className:"toggle-menu__line"}),r.a.createElement("div",{className:"toggle-menu__line"}),r.a.createElement("div",{className:"toggle-menu__line"}))},g=function(){return r.a.createElement("div",{className:"header__logo"},r.a.createElement(p.b,{to:"/"},r.a.createElement("h2",null,r.a.createElement("span",{className:"first"},"Art lives"),r.a.createElement("span",{className:"secondary"},"forever"))))},E=d,v=a(1),b=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"loadingio-spinner-rolling-nqnzujhjttd"},r.a.createElement("div",{className:"ldio-1ou5w0znoy9"},r.a.createElement("div",null))))},y=function(){return r.a.createElement("div",{className:"error"},r.a.createElement("h1",null,"Sorry"),r.a.createElement("span",null,"Looks like something went wrong on our end."),r.a.createElement("span",null,"Head back to the Art Lives Forever Homepage."),r.a.createElement(p.b,{className:"btn draw-border outline-none",to:"/"},"Go Back"))},_=function(e){var t=e.data,a=t.title,n=t.date,l=t.name,c=t.culture,i=t.dimensions,o=t.division,s=t.publications,u=t.exhibitions,m=t.text,d=t.imageUrl,p=function(e){return e?e.map((function(e){var t={__html:e},a=Math.floor(59950*Math.random())+50;return r.a.createElement("div",{dangerouslySetInnerHTML:t,key:a})})):null},f=p(u),h=p(s),g=p(m),E=d.map((function(e,t){return 0===t?r.a.createElement("div",{className:"main",key:t},r.a.createElement("a",{"data-fancybox":"gallery",href:d[t]},r.a.createElement("img",{src:d[t],alt:"art"}))):r.a.createElement("a",{"data-fancybox":"gallery",href:d[t],key:t},r.a.createElement("img",{src:d[t]+"?width=280",alt:"art"}))}));return r.a.createElement("div",{className:"item container"},r.a.createElement("div",{className:"item__images"},E),r.a.createElement("dl",{className:"item__list"},r.a.createElement("dt",null,"Title"),r.a.createElement("dd",null,"\u201c ",a," \u201d"),r.a.createElement("dt",null,"Dated"),r.a.createElement("dd",null,n),r.a.createElement("dt",null,"Artist"),r.a.createElement("dd",null,l),r.a.createElement("dt",null,"Culture"),r.a.createElement("dd",null,c),r.a.createElement("dt",null,"Dimensions"),r.a.createElement("dd",null,i),r.a.createElement("dt",null,"Division"),r.a.createElement("dd",null,o),r.a.createElement("dt",null,"Publications History"),r.a.createElement("dd",null,h),r.a.createElement("dt",null,"Exhibitions History"),r.a.createElement("dd",null,f),r.a.createElement("dt",null,"Text"),r.a.createElement("dd",null,g)))},w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,data:null,error:!1},e.onError=function(){e.setState({error:!0,loading:!1})},e.updateItem=function(){var t=e.props,a=t.itemId,n=t.getData;a&&(e.setState({loading:!0,error:!1}),n(a).then((function(t){e.setState({data:t,loading:!1,error:!1})})).catch(e.onError))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e,t,a){e.itemId!==this.props.itemId&&this.updateItem()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.error;return e.loading||!t?r.a.createElement(b,null):a?r.a.createElement(y,null):r.a.createElement(_,{data:t})}}]),a}(n.Component),j=r.a.createContext(),k=j.Provider,N=j.Consumer,O=a(7),x=a.n(O),I=a(13),S=function(){function e(){var t=this;Object(i.a)(this,e),this._apiBase="https://api.harvardartmuseums.org/",this._apiKEY="&apikey=65582c50-731b-11ea-ba77-8b81ecbc6885",this.getItem=function(){var e=Object(I.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("object/".concat(a,"?&fields=images,people,title,objectid,dated,culture,centure"));case 2:return n=e.sent,e.abrupt("return",t._transformItem(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllItems=function(){var e=Object(I.a)(x.a.mark((function e(a,n,r,l){var c,i,o,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("object?classification=".concat(l,"&sort=rank&sortorder=asc&hasimage=1&q=verificationlevel:4&fields=images,title,objectid,dated,people&from=").concat(a,"&size=").concat(n,"&page=").concat(r));case 2:return c=e.sent,i=c.info.totalrecords,o=c.info.pages,s=c.records.filter((function(e){return 0===e.imagepermissionlevel})).map(t._transformItem),e.abrupt("return",[o,s,i]);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.getAllPeople=function(){var e=Object(I.a)(x.a.mark((function e(a,n,r){var l,c,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource('person?sort=displaydate:"random"&hasimage=1&from='.concat(a,"&size=").concat(n,"&page=").concat(r));case 2:return l=e.sent,c=l.info.totalrecords,console.log(c),i=l.info.pages,console.log(i),o=l.records.map(t._transformPerson),console.log(o),e.abrupt("return",[i,o,c]);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.getPersonItems=function(){var e=Object(I.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("object?person=".concat(a,"&hasimage=1&fields=images,title,objectid,dated"));case 2:return n=e.sent,e.abrupt("return",n.records.filter((function(e){return e.images[0]})).map(t._transformPersonItem));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPerson=function(){var e=Object(I.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("person?q=personid:".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n.records[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformPerson=function(e){return{id:e.personid,name:e.displayname,gender:e.gender,culture:e.culture,birthPlace:e.birthplace,displayDate:e.displaydate,deathPlace:e.deathplace}},this._transformPersonItem=function(e){return{id:e.objectid,title:e.title,imageUrl:e.images?e.images[0].baseimageurl:null,date:e.dated}},this._transformItem=function(e){return{id:e.objectid,title:e.title,date:e.dated,name:e.people?e.people[0].name:null,imageUrl:e.images.map((function(e){return e.baseimageurl})),culture:e.culture,dimensions:e.dimensions,classification:e.classification,division:e.division,publications:e.publications?e.publications.map((function(e){return e.citation})):null,exhibitions:e.exhibitions?e.exhibitions.map((function(e){return e.citation})):null,text:e.contextualtext?e.contextualtext.map((function(e){return e.text})):null}}}return Object(o.a)(e,[{key:"getResource",value:function(){var e=Object(I.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._apiBase).concat(t).concat(this._apiKEY));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch to ".concat(t,", received ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(o.a)(a,[{key:"componentDidCatch",value:function(){return this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(y,null):this.props.children}}]),a}(n.Component),D=function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"text-box"},r.a.createElement("blockquote",{className:"main-page__quotation"},r.a.createElement("h1",null,"Every child is an artist. ",r.a.createElement("br",null),"The problem is how to remain an artist once we grow up."),r.a.createElement("span",{className:"main-page__quotation--name"},"\u2014 Pablo Picasso \u2014"))))},A=a(19),C=function(e){return function(t){Object(s.a)(n,t);var a=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={data:[],loading:!0,error:!1,from:0,page:1,size:9,scrolling:!1,pages:null,records:null,showBtn:!0},e.componentDidMount=function(){e.updateList(),window.onscroll=function(){e.state.scrolling&&e.handleScroll()}},e.updateList=function(){console.log("update");var t=e.state,a=t.from,n=t.size,r=t.page,l=t.data;e.props.getData(a,n,r,e.props.property).then((function(t){e.setState({data:[].concat(Object(A.a)(l),Object(A.a)(t[1])),loading:!1,scrolling:!0,error:!1,pages:t[0],records:t[2]})})).catch(e.onError)},e.loadMore=function(){console.log("load");var t=e.state,a=t.page,n=t.pages;a<n&&(e.setState((function(e){return{page:e.page+1,from:e.from+9,loading:!1,showBtn:!1}})),e.updateList()),a===n&&e.setState({scrolling:!1,showBtn:!1})},e.handleScroll=function(){var t=document.querySelector("ul>li.item-list__item:last-child");if(t){var a=t.offsetTop+t.clientHeight;window.pageYOffset+window.innerHeight>a&&(e.loadMore(),e.setState({scrolling:!1}))}},e.onError=function(){e.setState({error:!0,loading:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){var t=this,a=this.state,n=a.data,l=a.loading,c=a.error,i=a.showBtn;if(l||!n)return r.a.createElement(b,null);if(c)return r.a.createElement(y,null);var o=i?r.a.createElement("div",{className:"btn-blue",onClick:function(){return t.loadMore()}},"Load more"):null;return r.a.createElement(P,null,r.a.createElement(e,Object.assign({},this.props,{data:n})),o)}}]),n}(n.Component)},M=function(e,t){return function(a){return r.a.createElement(e,a,t)}},B=function(e,t){return function(a){return r.a.createElement(N,null,(function(n){var l=t(n);return r.a.createElement(e,Object.assign({},a,l))}))}},L=function(e){var t=e.data,a=e.onItemSelected,n=e.children,l=t.map((function(e){var t=e.id,l=n(e);return r.a.createElement("li",{className:"item-list__item",key:t,onClick:function(){return a(t)}},l)}));return r.a.createElement("div",{className:"item-list container"},r.a.createElement("ul",null,l))},q=function(e){var t=e.title,a=e.name,n=e.date,l=e.imageUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement("figure",{className:"item-list__item--image"},r.a.createElement("img",{src:l[0]+"?width=400",alt:"art"})),r.a.createElement("div",{className:"item-list__item--title"},r.a.createElement("h4",null,"\u201c ",t," \u201d"),r.a.createElement("span",null,a),r.a.createElement("span",null,n)))},H=B(C(M(L,q)),(function(e){return{getData:e.getAllItems,property:"Drawings"}})),R=B(C(M(L,q)),(function(e){return{getData:e.getAllItems,property:"Paintings"}})),U=B(C(M(L,q)),(function(e){return{getData:e.getAllItems,property:"Photographs"}})),z=B(C(M(L,(function(e){var t=e.name,a=e.culture,n=e.displayDate;return r.a.createElement("div",null,r.a.createElement("h4",null,t," "),r.a.createElement("div",null,"( ",a,", ",n," )"))}))),(function(e){return{getData:e.getAllPeople}})),T=function(){var e=Object(v.f)();return r.a.createElement(H,{onItemSelected:function(t){return e.push("".concat(t))}})},F=function(){var e=Object(v.f)();return r.a.createElement("div",{className:"people-page"},r.a.createElement(z,{onItemSelected:function(t){return e.push("".concat(t))}}))},Y=function(){var e=Object(v.f)();return r.a.createElement(U,{onItemSelected:function(t){return e.push("".concat(t))}})},G=function(){var e=Object(v.f)();return r.a.createElement(R,{onItemSelected:function(t){return e.push("".concat(t))}})},J=function(e){var t=e.images,a=e.onItemSelected,n=t.map((function(e){var t=e.id,n=e.imageUrl,l=e.date,c=e.title;return r.a.createElement("li",{className:"item-list__item",key:t,onClick:function(){return a(t)}},r.a.createElement("figure",{className:"item-list__item--image"},r.a.createElement("img",{src:n+"?width=280",alt:"art"})),r.a.createElement("div",{className:"item-list__item--title"},r.a.createElement("h4",null,"\u201c ",c," \u201d"),r.a.createElement("span",null,l)))}));return r.a.createElement("div",{className:"item-list container"},r.a.createElement("ul",null,n))},K=function(e){var t=e.data,a=t.name,n=t.gender,l=t.culture,c=t.birthPlace,i=t.deathPlace,o=t.displayDate;return r.a.createElement("div",{className:"person-details item"},r.a.createElement("div",{className:"person-details__name"},r.a.createElement("h3",null,a),r.a.createElement("span",null,o)),r.a.createElement("dl",{className:"item__list"},r.a.createElement("dt",null,"Culture"),r.a.createElement("dd",null,l),r.a.createElement("dt",null,"Gender"),r.a.createElement("dd",null,n),r.a.createElement("dt",null,"Birth place"),r.a.createElement("dd",null,c),r.a.createElement("dt",null,"Death place"),r.a.createElement("dd",null,i)))},Q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:null,images:null,error:!1,loading:!0},e.swapiService=new S,e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updatePerson(),this.updatePersonImages()}},{key:"componentDidUpdate",value:function(e,t,a){e.id!==this.props.id&&(this.updatePerson(),this.updatePersonImages())}},{key:"updatePerson",value:function(){var e=this,t=this.props.id;this.setState({loading:!0,error:!1}),this.swapiService.getPerson(t).then((function(t){e.setState({data:t,loading:!1,error:!1})})).catch(this.onError)}},{key:"updatePersonImages",value:function(){var e=this;console.log("fun");var t=this.props.id;this.setState({loading:!0,error:!1}),this.swapiService.getPersonItems(t).then((function(t){e.setState({images:t,loading:!1,error:!1})})).catch(this.onError)}},{key:"onError",value:function(){this.setState({error:!0,loading:!1})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.error,n=e.data,l=e.images,c=this.props.history;if(t)return r.a.createElement(b,null);if(a)return r.a.createElement(y,null);var i=n?r.a.createElement(K,{data:n}):r.a.createElement(b,null),o=l?r.a.createElement(J,{images:l,onItemSelected:function(e){return c.push("/work/".concat(e))}}):r.a.createElement(b,null);return r.a.createElement("div",{className:"people item container"},i,o)}}]),a}(n.Component),V=Object(v.g)(Q),W=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).swapiService=new S,e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.swapiService.getItem;return r.a.createElement(P,null,r.a.createElement(k,{value:this.swapiService},r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:D}),r.a.createElement(v.a,{exact:!0,path:"/drawings/",component:T}),r.a.createElement(v.a,{path:"/drawings/:id",render:function(t){var a=t.match.params.id;return r.a.createElement(w,{itemId:a,getData:e})}}),r.a.createElement(v.a,{exact:!0,path:"/photographs/",component:Y}),r.a.createElement(v.a,{path:"/photographs/:id",render:function(t){var a=t.match.params.id;return r.a.createElement(w,{itemId:a,getData:e})}}),r.a.createElement(v.a,{exact:!0,path:"/paintings/",component:G}),r.a.createElement(v.a,{path:"/paintings/:id",render:function(t){var a=t.match.params.id;return r.a.createElement(w,{itemId:a,getData:e})}}),r.a.createElement(v.a,{exact:!0,path:"/people/",component:F}),r.a.createElement(v.a,{path:"/people/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(V,{id:t})}}),r.a.createElement(v.a,{path:"/work/:id",render:function(t){var a=t.match;console.log(a);var n=a.params.id;return r.a.createElement(w,{itemId:n,getData:e})}}))))))}}]),a}(n.Component);a(39);c.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.76f19457.chunk.js.map